module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,r){const{dirname:n}=r(0),i=(e,t,r)=>{t.recursive=!1;const o=n(e);return o===e?t.mkdirAsync(e,t).catch(e=>{if("EISDIR"!==e.code)throw e}):t.mkdirAsync(e,t).then(()=>r||e,n=>{if("ENOENT"===n.code)return i(o,t).then(r=>i(e,t,r));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;return t.statAsync(e).then(e=>{if(e.isDirectory())return r;throw n},()=>{throw n})})},o=(e,t,r)=>{const i=n(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),r||e}catch(n){if("ENOENT"===n.code)return o(e,t,o(i,t,r));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;try{if(!t.statSync(e).isDirectory())throw n}catch(e){throw n}}};e.exports={mkdirpManual:i,mkdirpManualSync:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.default=n.default},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),o=r(12),s=r(13),a=r(0),u=r(1),c=r(14),d=r(15),l=function(e){return"object"==typeof e.axeContext},m=function(){function e(e,t){this.reportName=e,this.directory=a.resolve(process.cwd(),t||"axe-devtools-results"),this.removeCodePreview=!1,i.sync(this.directory)}return e.prototype.getTestResults=function(e){var t=this.getResultsFromFilesystem();return e?t.filter((function(t){return"object"==typeof t.platform&&t.platform.userAgent===e})):t},e.prototype.logTestResult=function(e,t,r){"object"==typeof e&&(r=t,t=e,e="");var n,i=o("isoDateTime"),s=i.replace(/[:]/g," ").replace("+","-");e?n=this.reportName+"-"+e:(e=this.reportName+"-"+i,n=this.reportName+"-"+s),r=r||{};var c={type:"axe-devtools-result",name:this.reportName,id:e,endTime:i,platform:{userAgent:r.userAgent||"",testMachine:r.testMachine||""},testSubject:{fileName:r.fileName||t.url,state:r.state,lineNum:r.lineNum||-1},findings:t};this.removeCodePreview&&(c=this.removingCodeSnippets(c));var d=a.join(this.directory,n+".json");if(u.existsSync(d))throw new Error("File at "+d+" already exists");u.writeFileSync(d,JSON.stringify(c,null,2))},e.prototype.noCodeSnippets=function(e){return this.removeCodePreview=e||!this.removeCodePreview,this},e.prototype.getResultsFromFilesystem=function(){for(var e,t=[],r=0,n=s(this.directory);r<n.length;r++){var i=n[r];if(".json"===a.extname(i)){var o=a.join(this.directory,i),m=u.readFileSync(o,"utf-8"),f=void 0;try{f=JSON.parse(m),this.removeCodePreview&&(f=this.removingCodeSnippets(f))}catch(e){throw new c.default(e.message,o)}if("object"!=typeof(e=f)||"axe-devtools-result"!==e.type&&"attest-result"!==e.type){if(!l(f))continue;var y=new d.default(f);t.push(y.unifyMobileResultStructure())}else t.push(f)}}return t.sort((function(e,t){return new Date(e.endTime).getTime()>new Date(t.endTime).getTime()?1:-1}))},e.prototype.removingCodeSnippets=function(e){for(var t=0,r=["incomplete","passes","violations"];t<r.length;t++){var i=r[t],o=e.findings[i].map((function(e){return e.nodes.map((function(e){return e.html="",{nodes:[n({},e)]}}))}))[0];e.findings[i]=o}return e},e}();t.default=m},function(e,t,r){const n=r(6),i=r(8),{mkdirpNative:o,mkdirpNativeSync:s}=r(9),{mkdirpManual:a,mkdirpManualSync:u}=r(2),{useNative:c,useNativeSync:d}=r(11),l=(e,t)=>(e=i(e),t=n(t),c(t)?o(e,t):a(e,t));l.sync=(e,t)=>(e=i(e),t=n(t),d(t)?s(e,t):u(e,t)),l.native=(e,t)=>o(i(e),n(t)),l.manual=(e,t)=>a(i(e),n(t)),l.nativeSync=(e,t)=>s(i(e),n(t)),l.manualSync=(e,t)=>u(i(e),n(t)),e.exports=l},function(e,t,r){const{promisify:n}=r(7),i=r(1);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},function(e,t){e.exports=require("util")},function(e,t,r){const n=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:i,parse:o}=r(0);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===n){const t=/[*|"<>?:]/,{root:r}=o(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},function(e,t,r){const{dirname:n}=r(0),{findMade:i,findMadeSync:o}=r(10),{mkdirpManual:s,mkdirpManualSync:a}=r(2);e.exports={mkdirpNative:(e,t)=>{t.recursive=!0;return n(e)===e?t.mkdirAsync(e,t):i(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(r=>{if("ENOENT"===r.code)return s(e,t);throw r}))},mkdirpNativeSync:(e,t)=>{t.recursive=!0;if(n(e)===e)return t.mkdirSync(e,t);const r=o(t,e);try{return t.mkdirSync(e,t),r}catch(r){if("ENOENT"===r.code)return a(e,t);throw r}}}},function(e,t,r){const{dirname:n}=r(0),i=(e,t,r)=>r===t?Promise.resolve():e.statAsync(t).then(e=>e.isDirectory()?r:void 0,r=>"ENOENT"===r.code?i(e,n(t),t):void 0),o=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(r){return"ENOENT"===r.code?o(e,n(t),t):void 0}};e.exports={findMade:i,findMadeSync:o}},function(e,t,r){const n=r(1),i=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),o=+i[0]>10||10==+i[0]&&+i[1]>=12,s=o?e=>e.mkdir===n.mkdir:()=>!1,a=o?e=>e.mkdirSync===n.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:a}},function(e,t,r){var n;!function(i){"use strict";var o,s,a,u=(o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,r,n){if(1!==arguments.length||"string"!==m(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i=(t=String(u.masks[t]||t||u.masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(t=t.slice(4),r=!0,"GMT:"===i&&(n=!0));var f=r?"getUTC":"get",y=e[f+"Date"](),p=e[f+"Day"](),h=e[f+"Month"](),v=e[f+"FullYear"](),S=e[f+"Hours"](),g=e[f+"Minutes"](),M=e[f+"Seconds"](),b=e[f+"Milliseconds"](),T=r?0:e.getTimezoneOffset(),N=d(e),x=l(e),w={d:y,dd:c(y),ddd:u.i18n.dayNames[p],dddd:u.i18n.dayNames[p+7],m:h+1,mm:c(h+1),mmm:u.i18n.monthNames[h],mmmm:u.i18n.monthNames[h+12],yy:String(v).slice(2),yyyy:v,h:S%12||12,hh:c(S%12||12),H:S,HH:c(S),M:g,MM:c(g),s:M,ss:c(M),l:c(b,3),L:c(Math.round(b/10)),t:S<12?u.i18n.timeNames[0]:u.i18n.timeNames[1],tt:S<12?u.i18n.timeNames[2]:u.i18n.timeNames[3],T:S<12?u.i18n.timeNames[4]:u.i18n.timeNames[5],TT:S<12?u.i18n.timeNames[6]:u.i18n.timeNames[7],Z:n?"GMT":r?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(T>0?"-":"+")+c(100*Math.floor(Math.abs(T)/60)+Math.abs(T)%60,4),S:["th","st","nd","rd"][y%10>3?0:(y%100-y%10!=10)*y%10],W:N,N:x};return t.replace(o,(function(e){return e in w?w[e]:e.slice(1,e.length-1)}))});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function d(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);var i=(t-r)/6048e5;return 1+Math.floor(i)}function l(e){var t=e.getDay();return 0===t&&(t=7),t}function m(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(1),i=r(0);function o(e){return"."!==e[0]}e.exports=function e(t,r,s,a){a=a||"",s=s||[],r=r||o;var u=i.join(t,a);if(!n.existsSync(u))return s;n.statSync(u).isDirectory()?n.readdirSync(u).filter((function(e,t){return r(e,t,u)})).forEach((function(n){e(t,r,s,i.join(a,n))})):s.push(a);return s}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var n=e.call(this,t+" in "+r)||this;return n.name="JSONParseError",n.file=r,n}return i(t,e),t}(SyntaxError);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=this;this.unifyMobileResultStructure=function(){var e=new Date(Number(t.mobileScan.axeContext.axeMetaData.analysisTimestamp)).toISOString(),r="axe-result-"+e,n=t.formatScanName(),i=t.mobileScan.axeContext.axeMetaData.appIdentifier,o=t.mobileScan.axeContext.axeMetaData.screenTitle,s=t.mobileScan.axeContext.axeDevice.screenHeight,a=t.mobileScan.axeContext.axeDevice.screenWidth;return{type:"axe-devtools-mobile-result",id:r,name:n,endTime:e,findings:{appIdentifier:i,screenTitle:o,timestamp:e,passes:t.unifyResultList("PASS"),violations:t.unifyResultList("FAIL"),incomplete:t.unifyResultList("INCOMPLETE"),inapplicable:t.unifyResultList("INAPPLICABLE")},screenshot:t.mobileScan.axeContext.screenshot,screenHeight:s,screenWidth:a}},this.formatScanName=function(){var e=t.mobileScan.scanName;return"No Screen Title Available"!==e&&"null"!==e&&e?e===t.mobileScan.axeContext.axeMetaData.screenTitle&&"Android"===t.mobileScan.axeContext.axeDevice.os?e.substr(e.indexOf("/")+1).replace("_","-").split("-").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join("-"):e.replace(/\s+/g,"-"):"unamed-scan"},this.unifyResultList=function(e){var r=t.groupResultsByRule(t.mobileScan.axeRuleResults.filter((function(t){return t.status===e})));return Object.keys(r).map((function(e){var n=t.mobileScan.axeContext.axeDevice.os.toLowerCase(),i=t.groupResultsIntoNodes(r,e);return{description:r[e][0].ruleSummary,helpUrl:"https://mobile-docs.deque.com/axe/"+n+"/rule/"+e,id:e,nodes:i,impact:["minor","moderate","serious","critical",null][r[e][0].impact]}}))},this.groupResultsByRule=function(e){return e.reduce((function(e,t){return e[t.ruleId]=e[t.ruleId]||[],e[t.ruleId].push(t),e}),{})},this.groupResultsIntoNodes=function(e,r){return e[r].map((function(e){return{boundsInScreen:e.axeViewId?t.findBoundsInScreen(e.axeViewId):void 0,any:[],all:[],none:[],mobileProps:e.props}}))},this.findBoundsInScreen=function(e){return t.flattenViewHierarchy([],t.mobileScan.axeContext.axeView).find((function(t){return t.axeViewId===e})).boundsInScreen},this.flattenViewHierarchy=function(e,r){return Array.isArray(r)?r.reduce(t.flattenViewHierarchy,e):(e.push(r),t.flattenViewHierarchy(e,r.children))},this.mobileScan=e};t.default=n}]);